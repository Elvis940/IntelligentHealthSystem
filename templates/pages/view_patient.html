{% extends 'base.html' %}
{% block title %}View Patient - {{ patient.name }}{% endblock %}
{% block content %}
<div class="container my-5">
  <div class="card shadow">
    <div class="card-header py-3 d-flex justify-content-between align-items-center">
      <h4 class="m-0 font-weight-bold text-primary">Patient Details</h4>
      <a href="{% url 'patients' %}" class="btn btn-secondary btn-sm">
        <i class="fas fa-arrow-left me-1"></i> Back to Patients
      </a>
    </div>
    
    <div class="card-body">
      <div class="row">
        <div class="col-md-4 text-center">
          {% if patient.profile_picture %}
            <img src="{{ patient.profile_picture.url }}" 
                 class="rounded-circle mb-3" 
                 width="200" 
                 height="200"
                 style="object-fit: cover;"
                 alt="Profile Picture">
          {% else %}
            <div class="rounded-circle bg-secondary d-flex align-items-center justify-content-center mb-3" 
                 style="width: 200px; height: 200px;">
              <i class="fas fa-user text-white" style="font-size: 4rem;"></i>
            </div>
          {% endif %}
          
          <h3>{{ patient.name }}</h3>
          <p class="text-muted">ID: {{ patient.patient_id }}</p>
          
          <div class="mt-3">
            <span class="badge bg-{% if patient.status == 'Active' %}success{% elif patient.status == 'Inactive' %}danger{% else %}warning text-dark{% endif %}">
              {{ patient.get_status_display }}
            </span>
          </div>
        </div>
        
        <div class="col-md-8">
          <div class="table-responsive">
            <table class="table table-bordered">
              <tr>
                <th width="30%">Email</th>
                <td>{{ patient.email }}</td>
              </tr>
              <tr>
                <th>Age</th>
                <td>{{ patient.age }}</td>
              </tr>
              <tr>
                <th>Gender</th>
                <td>{{ patient.gender }}</td>
              </tr>
              <tr>
                <th>Date Registered</th>
                <td>{{ patient.created_at|date:"F j, Y" }}</td>
              </tr>
            </table>
          </div>
          
          <div class="mt-4 d-flex gap-2">
            <a href="{% url 'edit_patient' patient.id %}" class="btn btn-primary">
              <i class="fas fa-edit me-1"></i> Edit Patient
            </a>
            <a href="{% url 'delete_patient' patient.id %}" class="btn btn-danger" 
               onclick="return confirm('Are you sure you want to delete this patient?');">
              <i class="fas fa-trash-alt me-1"></i> Delete Patient
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}